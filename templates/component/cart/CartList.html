<!-- MAIN CART CONTENT -->
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

    <!-- LEFT SIDE: CART ITEMS LIST -->
    <div class="lg:col-span-2 space-y-6">

      <!-- Cart Items Loop -->
      {% for item in cart_items %}
      <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-zinc-300 hover:shadow-md transition-all">
        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4">

          <!-- Product Image -->
          <img 
            src="{{ item.product.image.url if item.product.image else '/static/images/placeholder.png' }}" 
            alt="{{ item.product.title }}" 
            class="w-24 h-24 object-cover rounded-lg"
          >

          <!-- Product Info -->
          <div class="flex-1">
            <h3 class="text-base font-medium text-zinc-900">{{ item.product.title }}</h3>
            <p class="text-zinc-600 text-sm mt-1">{{ item.product.short_des }}</p>
            <p class="text-zinc-900 font-semibold mt-2">৳{{ item.price }}</p>
          </div>

          <!-- Quantity Selector -->
          <div class="flex items-center space-x-3">
            <button class="w-8 h-8 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
              </svg>
            </button>
            <span class="text-gray-900 font-semibold w-8 text-center">{{ item.qty }}</span>
            <button class="w-8 h-8 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
              </svg>
            </button>
          </div>

          <!-- Subtotal & Remove -->
          <div class="flex flex-col items-end space-y-2">
            <p class="text-lg font-semibold text-zinc-900">৳{{ item.price|floatformat:2 }}</p>
            <form method="POST" action="{% url 'remove_cart_item' item.id %}">
              {% csrf_token %}
              <button type="submit" class="text-red-600 hover:text-red-800 transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
              </button>
            </form>
          </div>

        </div>
      </div>
      {% empty %}
      <p class="text-center text-gray-500">No items in your cart.</p>
      {% endfor %}

      <!-- COUPON / PROMO CODE FIELD -->
      <div class="bg-white border border-gray-200 rounded-lg p-6">
        <h3 class="text-base font-medium text-zinc-900 mb-4">Have a coupon code?</h3>
        <div class="flex flex-col sm:flex-row gap-3">
          <input type="text" name="coupon_code" placeholder="Enter promo code" class="flex-1 px-4 py-3 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent">
          <button type="submit" class="px-6 py-3 bg-zinc-900 text-white text-sm font-medium rounded-lg hover:bg-zinc-800 transition-colors">Apply</button>
        </div>
      </div>

      <!-- Continue Shopping Link -->
      <div class="text-center mt-6">
        <a href="{% url 'product_list' %}" class="text-zinc-900 hover:text-zinc-600 text-sm font-medium transition-colors">
          ← Continue Shopping
        </a>
      </div>

    </div>

    <!-- RIGHT SIDE: ORDER SUMMARY -->
    {% include "component/cart/OrderSummary.html" %}

  </div>

</main>
